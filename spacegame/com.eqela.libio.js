var com=com||{};com.eqela=com.eqela||{};com.eqela.libio=com.eqela.libio||{};com.eqela.libio.BufferReader=function(){eq.api.Object.call(this);this.com_eqela_libio_BufferReader_buffer=null;this.com_eqela_libio_BufferReader_pos=0;{}};P=com.eqela.libio.BufferReader.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.Seekable']=true;P._t['com.eqela.libio.Reader']=true;P._t['com.eqela.libio.SizedReader']=true;P._t['com.eqela.libio.BufferReader']=true;P.constructor=com.eqela.libio.BufferReader;com.eqela.libio.BufferReader.create=function(buf){return(com.eqela.libio.BufferReader.prototype.set_buffer.call(new com.eqela.libio.BufferReader(),buf));};com.eqela.libio.BufferReader.for_buffer=function(buf){return(com.eqela.libio.BufferReader.prototype.set_buffer.call(new com.eqela.libio.BufferReader(),buf));};P.seek_set=function(n){this.com_eqela_libio_BufferReader_pos=n;return(true);};P.seek_current=function(){return(this.com_eqela_libio_BufferReader_pos);};P.get_buffer=function(){return(this.com_eqela_libio_BufferReader_buffer);};P.set_buffer=function(buf){this.com_eqela_libio_BufferReader_buffer=buf;this.com_eqela_libio_BufferReader_pos=0;return(this);};P.rewind=function(){this.com_eqela_libio_BufferReader_pos=0;};P.get_size=function(){if(this.com_eqela_libio_BufferReader_buffer===null){return(0);}return(this.com_eqela_libio_BufferReader_buffer.get_size());};P.read=function(buf){var v=0;if((this.com_eqela_libio_BufferReader_buffer!==null)&&(buf!==null)){var srcptr=this.com_eqela_libio_BufferReader_buffer.get_pointer();var dstptr=buf.get_pointer();if(((srcptr!==null)&&(dstptr!==null))&&(this.com_eqela_libio_BufferReader_pos < this.com_eqela_libio_BufferReader_buffer.get_size())){var size=buf.get_size();if(size > (this.com_eqela_libio_BufferReader_buffer.get_size()-this.com_eqela_libio_BufferReader_pos)){size=this.com_eqela_libio_BufferReader_buffer.get_size()-this.com_eqela_libio_BufferReader_pos;}dstptr.cpyfrom(srcptr,this.com_eqela_libio_BufferReader_pos,0,size);this.com_eqela_libio_BufferReader_pos+=size;v=size;}}return(v);};P.set_pos=function(v){this.com_eqela_libio_BufferReader_pos=v;return(this);};P.get_pos=function(){return(this.com_eqela_libio_BufferReader_pos);};com.eqela.libio.BufferWriter=function(){eq.api.Object.call(this);this.com_eqela_libio_BufferWriter_buffer=null;this.com_eqela_libio_BufferWriter_pos=0;{}};P=com.eqela.libio.BufferWriter.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.Writer']=true;P._t['com.eqela.libio.BufferWriter']=true;P.constructor=com.eqela.libio.BufferWriter;com.eqela.libio.BufferWriter.create=function(){return(com.eqela.libio.BufferWriter.for_buffer(null));};com.eqela.libio.BufferWriter.for_buffer=function(buf){var v=new com.eqela.libio.BufferWriter();v.com_eqela_libio_BufferWriter_buffer=buf;if(v.com_eqela_libio_BufferWriter_buffer===null){v.com_eqela_libio_BufferWriter_buffer=eq.api.DynamicBufferStatic.create(0);}v.com_eqela_libio_BufferWriter_pos=0;return(v);};P.get_buffer=function(){return(this.com_eqela_libio_BufferWriter_buffer);};P.write=function(src,ssize){if((this.com_eqela_libio_BufferWriter_buffer===null)||(src===null)){return(0);}var size=ssize;if(size < 0){size=src.get_size();}if((function(l,r){return(l!=null&&l._t[r]===true);})(this.com_eqela_libio_BufferWriter_buffer,"eq.api.DynamicBuffer")){if((this.com_eqela_libio_BufferWriter_pos+size) > this.com_eqela_libio_BufferWriter_buffer.get_size()){var appended_size=(size+this.com_eqela_libio_BufferWriter_pos)-this.com_eqela_libio_BufferWriter_buffer.get_size();var appended_buf=this.com_eqela_libio_BufferWriter_buffer.append(appended_size);if(appended_buf===false){return(0);}}var srcptr=src.get_pointer();var dstptr=this.com_eqela_libio_BufferWriter_buffer.get_pointer();if((srcptr!==null)&&(dstptr!==null)){dstptr.cpyfrom(srcptr,0,this.com_eqela_libio_BufferWriter_pos,size);}this.com_eqela_libio_BufferWriter_pos+=size;return(size);}if(this.com_eqela_libio_BufferWriter_buffer.get_size() > this.com_eqela_libio_BufferWriter_pos){if(this.com_eqela_libio_BufferWriter_buffer.get_size() < (size+this.com_eqela_libio_BufferWriter_pos)){size=this.com_eqela_libio_BufferWriter_buffer.get_size()-this.com_eqela_libio_BufferWriter_pos;var srcptr=src.get_pointer();var dstptr=this.com_eqela_libio_BufferWriter_buffer.get_pointer();if((srcptr!==null)&&(dstptr!==null)){dstptr.cpyfrom(srcptr,0,this.com_eqela_libio_BufferWriter_pos,size);}this.com_eqela_libio_BufferWriter_pos+=size;return(0);}else {var srcptr=src.get_pointer();var dstptr=this.com_eqela_libio_BufferWriter_buffer.get_pointer();if((srcptr!==null)&&(dstptr!==null)){dstptr.cpyfrom(srcptr,0,this.com_eqela_libio_BufferWriter_pos,size);}this.com_eqela_libio_BufferWriter_pos+=size;return(size);}}return(0);};com.eqela.libio.FileDescriptorImpl=function(){eq.api.Object.call(this);this.com_eqela_libio_FileDescriptorImpl_fd=0;{}};P=com.eqela.libio.FileDescriptorImpl.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.FileDescriptor']=true;P._t['com.eqela.libio.FileDescriptorImpl']=true;P.constructor=com.eqela.libio.FileDescriptorImpl;P.set_fd=function(fd){this.com_eqela_libio_FileDescriptorImpl_fd=fd;return(this);};P.get_fd=function(){return(this.com_eqela_libio_FileDescriptorImpl_fd);};com.eqela.libio.InputStream=function(){eq.api.Object.call(this);this.com_eqela_libio_InputStream_buffer=null;this.com_eqela_libio_InputStream_buffers=0;this.com_eqela_libio_InputStream_bufferp=0;this.com_eqela_libio_InputStream_reader=null;this.com_eqela_libio_InputStream_eof=false;this.com_eqela_libio_InputStream_current=0;{}};P=com.eqela.libio.InputStream.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.Reader']=true;P._t['com.eqela.libio.InputStream']=true;P.constructor=com.eqela.libio.InputStream;com.eqela.libio.InputStream.for_reader=function(reader,buffersize){return(com.eqela.libio.InputStream.create(reader,buffersize));};com.eqela.libio.InputStream.create=function(reader,buffersize){if(reader===null){return(null);}var v=new com.eqela.libio.InputStream();v.com_eqela_libio_InputStream_reader=reader;v.com_eqela_libio_InputStream_buffer=eq.api.DynamicBufferStatic.create(buffersize);return(v);};P.get_reader=function(){return(this.com_eqela_libio_InputStream_reader);};P.is_eof=function(){return(this.com_eqela_libio_InputStream_eof);};P.read_all_buffer=function(){var v=null;var n=0;while(!this.com_eqela_libio_InputStream_eof){if(com.eqela.libio.InputStream.prototype.nextbyte.call(this)===false){break;}var c=com.eqela.libio.InputStream.prototype.getbyte.call(this);if(v===null){v=eq.api.DynamicBufferStatic.create(1024);}if(v!==null){if(n >= v.get_size()){v.allocate(v.get_size()+1024);}if(n < v.get_size()){var ptr=v.get_pointer();if(ptr!==null){ptr.set_byte(n,c);n++;}}}}if(v!==null){if(n!==v.get_size()){v.allocate(n);}}return(v);};P.read_all_string=function(){var v=null;var n=0;while(!this.com_eqela_libio_InputStream_eof){if(com.eqela.libio.InputStream.prototype.nextbyte.call(this)===false){break;}var c=com.eqela.libio.InputStream.prototype.getbyte.call(this);if(v===null){v=eq.api.DynamicBufferStatic.create(1024);}if(v!==null){if(n >= v.get_size()){v.allocate(v.get_size()+1024);}if(n < v.get_size()){var ptr=v.get_pointer();if(ptr!==null){ptr.set_byte(n,c);n++;}}}}if(v!==null){if(n >= v.get_size()){v.allocate(v.get_size()+1);}if(n < v.get_size()){var ptr=v.get_pointer();if(ptr!==null){ptr.set_byte(n++,0);}}if(n!==v.get_size()){v.allocate(n);}}if(v===null){return(null);}return(eq.api.StringStatic.for_utf8_buffer(v,true));};P.readline=function(){var v=null;var n=0;while(!this.com_eqela_libio_InputStream_eof){if(com.eqela.libio.InputStream.prototype.nextbyte.call(this)===false){break;}var c=com.eqela.libio.InputStream.prototype.getbyte.call(this);if(c==='\n'.charCodeAt(0)){if(v===null){v=eq.api.DynamicBufferStatic.create(0);}break;}if(c==='\r'.charCodeAt(0)){continue;}if(v===null){v=eq.api.DynamicBufferStatic.create(1024);}if(v!==null){if(n >= v.get_size()){v.allocate(v.get_size()+1024);}if(n < v.get_size()){var ptr=v.get_pointer();if(ptr!==null){ptr.set_byte(n,c);n++;}}}}if(v!==null){if(n >= v.get_size()){v.allocate(v.get_size()+1);}if(n < v.get_size()){var ptr=v.get_pointer();if(ptr!==null){ptr.set_byte(n++,0);}}if(n!==v.get_size()){v.allocate(n);}}if(v===null){return(null);}return(eq.api.StringStatic.for_utf8_buffer(v,true));};P.update=function(){if(this.com_eqela_libio_InputStream_reader===null){this.com_eqela_libio_InputStream_eof=true;return;}if((this.com_eqela_libio_InputStream_buffers-this.com_eqela_libio_InputStream_bufferp)===0){this.com_eqela_libio_InputStream_buffers=this.com_eqela_libio_InputStream_reader.read(this.com_eqela_libio_InputStream_buffer);if(this.com_eqela_libio_InputStream_buffers < 0){this.com_eqela_libio_InputStream_buffers=0;}this.com_eqela_libio_InputStream_bufferp=0;}if((this.com_eqela_libio_InputStream_buffers-this.com_eqela_libio_InputStream_bufferp)===0){this.com_eqela_libio_InputStream_eof=true;}};P.nextbyte=function(){var v=false;com.eqela.libio.InputStream.prototype.update.call(this);if(this.com_eqela_libio_InputStream_bufferp < this.com_eqela_libio_InputStream_buffers){var bp=this.com_eqela_libio_InputStream_buffer.get_pointer();if(bp!==null){this.com_eqela_libio_InputStream_current=bp.get_byte(this.com_eqela_libio_InputStream_bufferp);this.com_eqela_libio_InputStream_bufferp++;v=true;}}return(v);};P.getbyte=function(){return(this.com_eqela_libio_InputStream_current);};P.read=function(buf){if((buf===null)||(buf.get_size() < 1)){return(0);}var r=0;var ptr=buf.get_pointer();while((r < buf.get_size())&&com.eqela.libio.InputStream.prototype.nextbyte.call(this)){ptr.set_byte(r,com.eqela.libio.InputStream.prototype.getbyte.call(this));r++;}return(r);};P.read_int8=function(){if(com.eqela.libio.InputStream.prototype.nextbyte.call(this)){return(eq.api.Primitive.for_integer(~~(com.eqela.libio.InputStream.prototype.getbyte.call(this))));}return(null);};P.read_int16=function(){var buf=eq.api.DynamicBufferStatic.create(2);if(buf!==null){if(this.read(buf)===2){return(eq.api.Primitive.for_integer(eq.api.IntegerStatic.from_buffer16(buf)));}}return(null);};P.read_int32=function(){var buf=eq.api.DynamicBufferStatic.create(4);if(buf!==null){if(this.read(buf)===4){return(eq.api.Primitive.for_integer(eq.api.IntegerStatic.from_buffer32(buf)));}}return(null);};P.read_long_buffer=function(){var bb=eq.api.IntegerStatic.long_to_buffer(~~(0));if(bb===null){return(null);}var len=bb.get_size();if(len < 1){return(null);}var buf=eq.api.DynamicBufferStatic.create(len);if(buf===null){return(null);}if(this.read(buf)!==len){return(null);}return(buf);};P.read_int_buffer=function(){var bb=eq.api.IntegerStatic.int_to_buffer(0);if(bb===null){return(null);}var len=bb.get_size();if(len < 1){return(null);}var buf=eq.api.DynamicBufferStatic.create(len);if(buf===null){return(null);}if(this.read(buf)!==len){return(null);}return(buf);};com.eqela.libio.OutputStream=function(){eq.api.Object.call(this);this.com_eqela_libio_OutputStream_writer=null;{}};P=com.eqela.libio.OutputStream.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.Writer']=true;P._t['com.eqela.libio.OutputStream']=true;P.constructor=com.eqela.libio.OutputStream;com.eqela.libio.OutputStream.for_writer=function(w){if(w===null){return(null);}return(com.eqela.libio.OutputStream.prototype.set_writer.call(new com.eqela.libio.OutputStream(),w));};com.eqela.libio.OutputStream.create=function(w){if(w===null){return(null);}return(com.eqela.libio.OutputStream.prototype.set_writer.call(new com.eqela.libio.OutputStream(),w));};P.close=function(){this.com_eqela_libio_OutputStream_writer=null;};P.write=function(b,asz){var sz=asz;if((sz < 0)&&(b!==null)){sz=b.get_size();}return(this.com_eqela_libio_OutputStream_writer.write(b,sz));};P.write_buffer=function(b){if(b===null){return(true);}if(this.write(b,-1)===b.get_size()){return(true);}return(false);};P.appendbyte=function(buffer,_byte){var pos=buffer.get_size();if(buffer.append(1)){var ptr=buffer.get_pointer();if(ptr!==null){ptr.set_byte(pos,_byte);}}};P.write_byte=function(_byte){var v=false;var buf=eq.api.DynamicBufferStatic.create(0);if(buf!==null){com.eqela.libio.OutputStream.prototype.appendbyte.call(this,buf,_byte);if(this.write(buf,-1) > 0){v=true;}}return(v);};P.write_int=function(n){var bb=eq.api.IntegerStatic.int_to_buffer(n);if(bb===null){return(false);}return(this.write(bb,-1)===bb.get_size());};P.write_long=function(n){var bb=eq.api.IntegerStatic.long_to_buffer(n);if(bb===null){return(false);}return(this.write(bb,-1)===bb.get_size());};P.write_int8=function(_byte){return(this.write(eq.api.IntegerStatic.to_buffer8(_byte),-1)===1);};P.write_int16=function(word){return(this.write(eq.api.IntegerStatic.to_buffer16(word),-1)===2);};P.write_int32=function(lword){return(this.write(eq.api.IntegerStatic.to_buffer32(lword),-1)===4);};P.write_string=function(d){if(d===null){return(false);}var b=d.to_utf8_buffer(true);if((b!==null)&&(b.get_size() > 0)){return(this.write(b,b.get_size()-1) >= 0);}return(false);};P.print=function(d){return(com.eqela.libio.OutputStream.prototype.write_string.call(this,d));};P.println=function(ln){return(com.eqela.libio.OutputStream.prototype.write_string.call(this,ln.append(eq.api.StringStatic.for_strptr("\n"))));};P.write_from_reader=function(reader){if(reader===null){return(0);}var v=0;var buf=eq.api.DynamicBufferStatic.create(4096*4);if(buf!==null){var n=0;var r=0;while((n=reader.read(buf)) > 0){r=this.write(buf,n);if(r > 0){v+=r;}if(r!==n){break;}}}return(v);};P.set_writer=function(v){this.com_eqela_libio_OutputStream_writer=v;return(this);};P.get_writer=function(){return(this.com_eqela_libio_OutputStream_writer);};com.eqela.libio.StringReader=function(){eq.api.Object.call(this);this.com_eqela_libio_StringReader_str=null;this.com_eqela_libio_StringReader_buffer=null;this.com_eqela_libio_StringReader_rd=null;{}};P=com.eqela.libio.StringReader.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libio.Reader']=true;P._t['com.eqela.libio.SizedReader']=true;P._t['eq.api.Stringable']=true;P._t['com.eqela.libio.StringReader']=true;P.constructor=com.eqela.libio.StringReader;com.eqela.libio.StringReader.for_string=function(str){return(com.eqela.libio.StringReader.prototype.set_string.call(new com.eqela.libio.StringReader(),str));};com.eqela.libio.StringReader.create=function(str){return(com.eqela.libio.StringReader.prototype.set_string.call(new com.eqela.libio.StringReader(),str));};P.set_string=function(str){this.com_eqela_libio_StringReader_str=str;this.com_eqela_libio_StringReader_buffer=null;this.com_eqela_libio_StringReader_rd=null;if(str!==null){this.com_eqela_libio_StringReader_buffer=str.to_utf8_buffer(false);this.com_eqela_libio_StringReader_rd=com.eqela.libio.BufferReader.for_buffer(this.com_eqela_libio_StringReader_buffer);}return(this);};P.get_string=function(){return(this.com_eqela_libio_StringReader_str);};P.read=function(buf){if(this.com_eqela_libio_StringReader_rd===null){return(0);}return(this.com_eqela_libio_StringReader_rd.read(buf));};P.get_size=function(){if(this.com_eqela_libio_StringReader_buffer!==null){return(this.com_eqela_libio_StringReader_buffer.get_size());}return(0);};P.to_string=function(){return(this.com_eqela_libio_StringReader_str);};com.eqela.libio.FileDescriptorStatic=function(){};P=com.eqela.libio.FileDescriptorStatic.prototype;P._t={};P.constructor=com.eqela.libio.FileDescriptorStatic;com.eqela.libio.FileDescriptorStatic.for_fd=function(fd){return(com.eqela.libio.FileDescriptorImpl.prototype.set_fd.call(new com.eqela.libio.FileDescriptorImpl(),fd));};