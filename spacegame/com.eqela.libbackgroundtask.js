var com=com||{};com.eqela=com.eqela||{};com.eqela.libbackgroundtask=com.eqela.libbackgroundtask||{};com.eqela.libbackgroundtask.BackgroundTaskAdapter=function(){eq.api.Object.call(this);this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_task=null;this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_abortflag=null;{this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_abortflag=new eq.api.BooleanValue();}};P=com.eqela.libbackgroundtask.BackgroundTaskAdapter.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libbackgroundtask.BackgroundTask']=true;P._t['com.eqela.libbackgroundtask.BackgroundTaskAdapter']=true;P.constructor=com.eqela.libbackgroundtask.BackgroundTaskAdapter;P.get_abortflag=function(){return(this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_abortflag);};P.abort=function(){eq.api.BooleanValue.prototype.set_value.call(this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_abortflag,true);if(this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_task!==null){this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_task.abort();}return(true);};P.set_task=function(v){this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_task=v;return(this);};P.get_task=function(){return(this.com_eqela_libbackgroundtask_BackgroundTaskAdapter_task);};com.eqela.libbackgroundtask.ProgressTimer=function(){eq.api.Object.call(this);{}};P=com.eqela.libbackgroundtask.ProgressTimer.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libbackgroundtask.ProgressTimer']=true;P.constructor=com.eqela.libbackgroundtask.ProgressTimer;com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler=function(){eq.api.Object.call(this);this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_handler=null;this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_starttime=null;this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_ttime=0;{this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_starttime=com.eqela.libos.SystemClock.timeval();}};P2=P;P=com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libbackgroundtask.TimerHandler']=true;P._t['com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler']=true;P.constructor=com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler;com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler.create=function(handler,ttime){var v=new com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler();v.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_handler=handler;v.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_ttime=ttime;if(handler!==null){handler.on_progress(0.0);}return(v);};P.on_timer=function(arg){var now=com.eqela.libos.SystemClock.timeval();var t=eq.api.TimeVal.diff(this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_starttime,now);var f=(t/(this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_ttime));if(f >= 1.0){f=1.0;}if(this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_handler!==null){this.com_eqela_libbackgroundtask_ProgressTimer_MyTimerHandler_handler.on_progress(f);}if(f >= 1.0){return(false);}return(true);};P=P2;P2=null;com.eqela.libbackgroundtask.ProgressTimer.start=function(el,handler,ttime,step){com.eqela.libbackgroundtask.Timer.start(el,step,com.eqela.libbackgroundtask.ProgressTimer.MyTimerHandler.create(handler,ttime),null);};com.eqela.libbackgroundtask.RunnableTaskStarter=function(){eq.api.Object.call(this);this.com_eqela_libbackgroundtask_RunnableTaskStarter_task=null;this.com_eqela_libbackgroundtask_RunnableTaskStarter_manager=null;{}};P=com.eqela.libbackgroundtask.RunnableTaskStarter.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libbackgroundtask.StartableTask']=true;P._t['com.eqela.libbackgroundtask.RunnableTaskStarter']=true;P.constructor=com.eqela.libbackgroundtask.RunnableTaskStarter;com.eqela.libbackgroundtask.RunnableTaskStarter.create=function(task,btm){return(com.eqela.libbackgroundtask.RunnableTaskStarter.prototype.set_manager.call(com.eqela.libbackgroundtask.RunnableTaskStarter.prototype.set_task.call(new com.eqela.libbackgroundtask.RunnableTaskStarter(),task),btm));};P.start=function(listener){if((this.com_eqela_libbackgroundtask_RunnableTaskStarter_manager===null)||(this.com_eqela_libbackgroundtask_RunnableTaskStarter_task===null)){return(null);}return(this.com_eqela_libbackgroundtask_RunnableTaskStarter_manager.start_task(this.com_eqela_libbackgroundtask_RunnableTaskStarter_task,listener));};P.set_task=function(v){this.com_eqela_libbackgroundtask_RunnableTaskStarter_task=v;return(this);};P.get_task=function(){return(this.com_eqela_libbackgroundtask_RunnableTaskStarter_task);};P.set_manager=function(v){this.com_eqela_libbackgroundtask_RunnableTaskStarter_manager=v;return(this);};P.get_manager=function(){return(this.com_eqela_libbackgroundtask_RunnableTaskStarter_manager);};com.eqela.libbackgroundtask.Timer=function(){eq.api.Object.call(this);{}};P=com.eqela.libbackgroundtask.Timer.prototype=(function(o){function F(){};F.prototype=o;return(new F());})(eq.api.Object.prototype);P._t={};P._t['eq.api.Object']=true;P._t['com.eqela.libbackgroundtask.Timer']=true;P.constructor=com.eqela.libbackgroundtask.Timer;com.eqela.libbackgroundtask.Timer.start=function(el,usec,o,arg){if(el===null){return(null);}return(el.start_timer(usec,o,arg));};com.eqela.libbackgroundtask.BackgroundTaskStatic=function(){};P=com.eqela.libbackgroundtask.BackgroundTaskStatic.prototype;P._t={};P.constructor=com.eqela.libbackgroundtask.BackgroundTaskStatic;com.eqela.libbackgroundtask.BackgroundTaskStatic.stop_background_task=function(task){if(task!==null){task.abort();}return(null);};